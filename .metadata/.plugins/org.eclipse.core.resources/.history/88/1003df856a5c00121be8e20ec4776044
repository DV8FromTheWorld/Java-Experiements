package dv8.output;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class ParseJava {
	public static void parseTheJava(){
		int i0, i1, i2, i3, i4, i5, i6, i7, i8, i9;
		String tier, slot1, slot2, slot3, slot4, slot5, slot6, slot7, slot8, slot9, slot10, output, outputAmount;
		String strJava;
		String[] recipe;
		BufferedReader br = null;
		try{
			br = new BufferedReader(new FileReader(workingDir.getDir() + "\\files\\parseMe.txt"));
				while((strJava = br.readLine()) != null){
				//for(int i = 0; i < 4; i++){
					//strJava = br.readLine();
					strJava.trim();
					tier = strJava.substring((i0=strJava.indexOf("(")+1), (i1=strJava.indexOf(",", i0)));
					slot1 = strJava.substring(i1+2, (i2=getProperIndex(i1, strJava)));
					slot2 = strJava.substring(i2+2, (i3=getProperIndex(i2, strJava)));
					slot3 = strJava.substring(i3+2, (i4=getProperIndex(i3, strJava)));
					slot4 = strJava.substring(i4+2, (i5=getProperIndex(i4, strJava)));
					slot5 = strJava.substring(i5+2, (i6=getProperIndex(i5, strJava)));
					slot6 = strJava.substring(i6+2, (i7=getProperIndex(i6, strJava)));
					
					System.out.println(tier);
					System.out.println(slot1);
					System.out.println(slot2);
					System.out.println(slot3);
					System.out.println(slot4);
					System.out.println(slot5);
					System.out.println(slot6);
					recipe = null;
				}
			br.close();
		}catch(IOException e){
			e.printStackTrace();
		}
	}
	public static int getProperIndex(int startIndex, String javaString){
		int failSafeIndex = javaString.indexOf("(),", startIndex);
		int index1 = javaString.indexOf("),", startIndex);
		
		if(failSafeIndex != -1){
			if(failSafeIndex < index1){
				index1 = javaString.indexOf("),", failSafeIndex + 2);
			}
		}
		
		int index2 = javaString.indexOf("l,", startIndex);
		
			if(index1 == -1){
				return index2 + 1;
			}else if(index2 == -1){
				return index1 + 1;
			}else if(index1 < index2){
				return index1 + 1;
			}else{
				return index2 + 1;
			}
	}
}
